<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>15thmarExam</title>
</head>
<body>
    <script>

        // 1. Write a function to reverse a string.
const reverseString = (str) => str.split("").reverse().join("");
console.log(reverseString("hello")); // Expected output: "olleh"

// 2. Write a function to check if a string is a palindrome.
const isPalindrome = (str) => str === str.split("").reverse().join("");
console.log(isPalindrome("racecar")); 
console.log(isPalindrome("hello"));

// 3. Write a function to find the maximum number in an array.
const findMax = (arr) => Math.max(...arr);
console.log(findMax([1, 5, 3, 9, 2])); 

// 4. Write a function to remove duplicates from an array.
const removeDuplicates = (arr) => [...new Set(arr)];
console.log(removeDuplicates([1, 2, 2, 3, 4, 4, 5]))

// 5. Write a function to find the factorial of a number.
const factorial = (n) => (n === 0 ? 1 : n * factorial(n - 1));
console.log(factorial(5)); 

// 6. Write a function to generate the Fibonacci series up to n terms.
const fibonacci = (n, arr = [0, 1]) => 
  arr.length < n ? fibonacci(n, [...arr, arr[arr.length - 1] + arr[arr.length - 2]]) : arr.slice(0, n);

console.log(fibonacci(5));


// 7. Write a function to check if two strings are anagrams.
const areAnagrams = (str1, str2) => 
  str1.split("").sort().join("") === str2.split("").sort().join("");

console.log(areAnagrams("listen", "silent")); 

// 8. Write a function to find the second largest number in an array.
const secondLargest = (arr) => {
  const uniqueSorted = [...new Set(arr)].sort((a, b) => b - a);
  return uniqueSorted.length > 1 ? uniqueSorted[1] : null;
};

console.log(secondLargest([10, 20, 4, 45, 99]));

// 9. Write a function to find the missing number in an array.
const findMissingNumber = (arr) => {
  const n = arr.length + 1;
  const expectedSum = (n * (n + 1)) / 2;
  const actualSum = arr.reduce((sum, num) => sum + num, 0);
  return expectedSum - actualSum;
};
console.log(findMissingNumber([1, 2, 4, 5])); 


// 10. Write a function to count the occurrences of each character in a string.
const countOccurrences = (str) => 
  str.split("").reduce((acc, char) => (acc[char] = (acc[char] || 0) + 1, acc), {});

console.log(countOccurrences("hello")); // Expected output: { h: 1, e: 1, l: 2, o: 1 }





// 14. Write a function to find the longest word in a string.
const longestWord = (str) => 
  str.split(" ").reduce((longest, word) => word.length > longest.length ? word : longest, "");

console.log(longestWord("The quick brown fox jumps over the lazy dog")); 

// 15. Write a function to find the intersection of two arrays.
const arrayIntersection = (arr1, arr2) => arr1.filter(num => arr2.includes(num));

console.log(arrayIntersection([1, 2, 3], [2, 3, 4])); 

// 16. Write a function to group array elements by a key.
const groupByKey = (arr, key) => 
  arr.reduce((acc, obj) => {
    (acc[obj[key]] = acc[obj[key]] || []).push(obj);
    return acc;
  }, {});

const data = [
  { category: "fruit", name: "apple" },
  { category: "fruit", name: "banana" },
  { category: "vegetable", name: "carrot" }
];
console.log(groupByKey(data, "category")); 

// 17. Write a function to merge two sorted arrays.
const mergeSortedArrays = (arr1, arr2) => [...arr1, ...arr2].sort((a, b) => a - b);

console.log(mergeSortedArrays([1, 3, 5], [2, 4, 6])); 

// 18. Write a function to implement a custom map function.
const customMap = (arr, callback) => {
  let result = [];
  for (let i = 0; i < arr.length; i++) {
    result.push(callback(arr[i], i, arr));
  }
  return result;
};

console.log(customMap([1, 2, 3], num => num * 2)); 



//20.
const firstNonRepeatingChar = (str) => {
    let charCount = {};
    for (let char of str) {
        charCount[char] = (charCount[char] || 0) + 1;
    }
    for (let char of str) {
        if (charCount[char] === 1) return char;
    }
    return null; 
};
console.log(firstNonRepeatingChar("aabbcce")); 


// 1. Find the output of the following code:
console.log(1 + "2" + "2"); // "122"
console.log(1 + +"2" + "2"); // "32"
console.log(1 + -"1" + "2"); // "02"
console.log(+"1" + "1" + "2"); // "112"
console.log("A" - "B" + "2"); // "NaN2"
console.log("A" - "B" + 2); // NaN

//2.
// console.log(0.1 + 0.2 === 0.3); // false

// 3. What will be the output?
let a = {};
let b = { key: "b" };
let c = { key: "c" };

a[b] = 123;
a[c] = 456;

console.log(a[b]); // 456

// 4. What does this function return?
function foo() {
    return
    {
        name: "John"
    };
}
console.log(foo()); 

// 5. How do you make this work?
const sum = (a) => (b) => (c) => a + b + c;
console.log(sum(2)(3)(4)); //9

// 6. Implement a function that executes after a delay without using setTimeout.
function delayExecution(func, delay) {
    const start = Date.now();
    while (Date.now() - start < delay) {
    }
    func();
}


// 8. What will be the output?
console.log(typeof NaN); // type will be "number"

// 9. How to check if an object is empty in JavaScript?
function isEmpty(obj) {
    return Object.keys(obj).length === 0;
}

// 10. What will be the output?
function test() {
    console.log(a); 
    var a = 5;
    console.log(a); // 5
}
test();

    </script>
</body>
</html>